{"version":3,"sources":["services/movies-api.js","images/no-poster-available.jpg","Components/Button/Button.js","Components/Button/Button.module.css","Components/MoviesList/MoviesList.module.css","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","Components/MoviesList/MoviesList.js","views/HomePage/HomePage.module.css","views/HomePage/HomePage.js"],"names":["KEY","axios","defaults","baseURL","fetchTrendingMovies","a","page","get","results","data","console","log","message","fetchMovies","query","fetchMovieDetails","movieId","response","fetchMovieCast","result","cast","fetchMovieReview","fetchMoviesAPI","Button","onLoadMore","type","className","s","onClick","module","exports","_toConsumableArray","arr","Array","isArray","arrayLikeToArray","iter","Symbol","iterator","Object","from","unsupportedIterableToArray","TypeError","MoviesList","movies","moviesListNotEmpty","length","location","useLocation","history","useHistory","moviesGallery","map","movie","moviesGalleryItem","to","pathname","id","state","search","label","Title","name","original_title","src","poster_path","noPosterAvailable","alt","title","moviesGalleryItemImage","HomePage","useState","setMovies","setPage","loading","setLoading","useEffect","fetchTrendingMoviesHomePage","scrollWindow","window","scrollTo","top","document","documentElement","scrollHeight","behavior","loadMoreMovies","header","prev"],"mappings":"yLAEMA,EAAM,mCAEZC,IAAMC,SAASC,QAAU,6BAEzB,IAAMC,EAAmB,uCAAG,4CAAAC,EAAA,6DAAOC,EAAP,+BAAc,EAAd,kBAIdL,IAAMM,IAAN,sCAAyCP,EAAzC,iBAAqDM,IAJvC,uBAGdE,EAHc,EAGtBC,KAAQD,QAHc,kBAKjBA,GALiB,gCAOxBE,QAAQC,IAAI,KAAIC,SAPQ,yDAAH,qDAWnBC,EAAW,uCAAG,WAAOC,GAAP,+BAAAT,EAAA,6DAAcC,EAAd,+BAAqB,EAArB,kBAEOL,IAAMM,IAAN,kCACMP,EADN,iCACkCc,EADlC,iBACgDR,EADhD,yBAFP,uBAERG,EAFQ,EAERA,KAFQ,kBAMTA,EAAKD,SANI,gCAQhBE,QAAQC,IAAI,KAAMC,SARF,yDAAH,sDAYXG,EAAiB,uCAAG,WAAOC,GAAP,eAAAX,EAAA,+EAECJ,IAAMM,IAAN,mBACTS,EADS,oBACUhB,EADV,oBAFD,cAEhBiB,EAFgB,yBAKfA,EAASR,MALM,gCAOtBC,QAAQC,IAAI,KAAIC,SAPM,yDAAH,sDAWjBM,EAAc,uCAAG,WAAOF,GAAP,eAAAX,EAAA,+EAEEJ,IAAMM,IAAN,mBACPS,EADO,4BACoBhB,EADpB,oBAFF,cAEbmB,EAFa,yBAKZA,EAAOV,KAAKW,MALA,gCAOnBV,QAAQC,IAAI,KAAIC,SAPG,yDAAH,sDAWdS,EAAgB,uCAAG,WAAOL,GAAP,iBAAAX,EAAA,+EAEEJ,IAAMM,IAAN,mBACTS,EADS,4BACkBhB,EADlB,oBAFF,uBAEbS,EAFa,EAEbA,KAFa,kBAKdA,EAAKD,SALS,gCAOrBE,QAAQC,IAAI,KAAMC,SAPG,yDAAH,sDAWhBU,EAAiB,CACrBT,cACAE,oBACAX,sBACAc,iBACAG,oBAGaC,O,gCCtEA,QAA0B,iD,gCCAzC,4BAeeC,IAZf,YAAiC,IAAfC,EAAc,EAAdA,WAChB,OACE,wBAAQC,KAAK,SAASC,UAAWC,IAAEJ,OAAQK,QAAS,kBAAMJ,KAA1D,yB,mBCJJK,EAAOC,QAAU,CAAC,OAAS,yB,mBCA3BD,EAAOC,QAAU,CAAC,cAAgB,kCAAkC,kBAAoB,sCAAsC,uBAAyB,2CAA2C,MAAQ,4B,0FCG3L,SAASC,EAAmBC,GACzC,OCJa,SAA4BA,GACzC,GAAIC,MAAMC,QAAQF,GAAM,OAAO,OAAAG,EAAA,GAAiBH,GDGzC,CAAkBA,IELZ,SAA0BI,GACvC,GAAsB,qBAAXC,QAA0BA,OAAOC,YAAYC,OAAOH,GAAO,OAAOH,MAAMO,KAAKJ,GFIvD,CAAgBJ,IAAQ,OAAAS,EAAA,GAA2BT,IGLvE,WACb,MAAM,IAAIU,UAAU,wIHIwE,K,gCIL9F,yDA4CeC,UAxCI,SAAC,GAAgB,IAAdC,EAAa,EAAbA,OAEdC,EAAuC,IAAlBD,EAAOE,OAC5BC,EAAWC,cACXC,EAAUC,cAEhB,OACE,oBAAIxB,UAAWC,IAAEwB,cAAjB,SACGN,GACCD,EAAOQ,KAAI,SAACC,GAAD,OACT,oBAAmB3B,UAAWC,IAAE2B,kBAAhC,SACE,eAAC,IAAD,CACEC,GAAI,CACFC,SAAS,WAAD,OAAaH,EAAMI,IAC3BC,MAAO,CACLlB,KACE,UAAGS,EAAQF,SAASS,UAApB,UACGP,EAAQF,SAASY,QACtBC,MAAO,iBACPD,OAAQZ,EAASY,SARvB,UAYE,oBAAIjC,UAAWC,IAAEkC,MAAjB,SAAyBR,EAAMS,MAAQT,EAAMU,iBAC7C,qBACEC,IACEX,EAAMY,YAAN,UAzBK,mCAyBL,OACsBZ,EAAMY,aACxBC,IAENC,IAAKd,EAAMe,MACX1C,UAAWC,IAAE0C,6BArBVhB,EAAMI,W,mBCbzB5B,EAAOC,QAAU,CAAC,OAAS,2B,2IC8DZwC,UAvDE,WACf,MAA4BC,mBAAS,IAArC,mBAAO3B,EAAP,KAAe4B,EAAf,KACA,EAAwBD,mBAAS,GAAjC,mBAAOjE,EAAP,KAAamE,EAAb,KACA,EAA8BF,oBAAS,GAAvC,mBAAOG,EAAP,KAAgBC,EAAhB,KAEAC,qBAAU,WACRD,GAAW,GAEX,IAAME,EAA2B,uCAAG,4BAAAxE,EAAA,+EAEViB,IAAelB,oBAAoBE,GAFzB,OAE1BE,EAF0B,OAGhCgE,GAAU,SAAC5B,GAAD,4BAAgBA,GAAhB,YAA2BpC,OACxB,IAATF,GACFwE,IAL8B,gDAQhCpE,QAAQC,IAAI,KAAIC,SARgB,yBAUhC+D,GAAW,GAVqB,4EAAH,qDAajCE,MACC,CAACvE,IAEJ,IAMMwE,EAAe,WACnBC,OAAOC,SAAS,CACdC,IAAKC,SAASC,gBAAgBC,aAC9BC,SAAU,YAIRC,EAAiB1C,EAAOE,OAAS,GAAKF,EAAOE,QAAU,GACvDD,EAAuC,IAAlBD,EAAOE,OAElC,OACE,qCACE,qCACE,oBAAIpB,UAAWC,IAAE4D,OAAjB,6BACA,mCAAG1C,GAAsB,cAAC,UAAD,CAAYD,OAAQA,SAE/C,mCAAG0C,GAAkB,cAAC,IAAD,CAAQ9D,WAtBhB,WACfmD,GAAYD,GACZD,GAAQ,SAACe,GAAD,OAAUA,EAAO,KACzBb,EAAWD","file":"static/js/home-view.81fc2808.chunk.js","sourcesContent":["import axios from 'axios'\n\nconst KEY = '5108029e3911ea6cb16f2c405843061d'\n\naxios.defaults.baseURL = 'https://api.themoviedb.org'\n\nconst fetchTrendingMovies = async (page = 1) => {\n  try {\n    const {\n      data: { results },\n    } = await axios.get(`/3/trending/all/day?api_key=${KEY}&page=${page}`)\n    return results\n  } catch (err) {\n    console.log(err.message)\n  }\n}\n\nconst fetchMovies = async (query, page = 1) => {\n  try {\n    const { data } = await axios.get(\n      `/3/search/movie?api_key=${KEY}&language=en-US&query=${query}&page=${page}&include_adult=false`,\n    )\n\n    return data.results\n  } catch (error) {\n    console.log(error.message)\n  }\n}\n\nconst fetchMovieDetails = async (movieId) => {\n  try {\n    const response = await axios.get(\n      `/3/movie/${movieId}?api_key=${KEY}&language=en-US`,\n    )\n    return response.data\n  } catch (err) {\n    console.log(err.message)\n  }\n}\n\nconst fetchMovieCast = async (movieId) => {\n  try {\n    const result = await axios.get(\n      `/3/movie/${movieId}/credits?api_key=${KEY}&language=en-US`,\n    )\n    return result.data.cast\n  } catch (err) {\n    console.log(err.message)\n  }\n}\n\nconst fetchMovieReview = async (movieId) => {\n  try {\n    const { data } = await axios.get(\n      `/3/movie/${movieId}/reviews?api_key=${KEY}&language=en-US`,\n    )\n    return data.results\n  } catch (error) {\n    console.log(error.message)\n  }\n}\n\nconst fetchMoviesAPI = {\n  fetchMovies,\n  fetchMovieDetails,\n  fetchTrendingMovies,\n  fetchMovieCast,\n  fetchMovieReview,\n}\n\nexport default fetchMoviesAPI\n","export default __webpack_public_path__ + \"static/media/no-poster-available.7555b152.jpg\";","import s from \"./Button.module.css\";\nimport PropTypes from \"prop-types\";\n\nfunction Button({ onLoadMore }) {\n  return (\n    <button type=\"button\" className={s.Button} onClick={() => onLoadMore()}>\n      Load more\n    </button>\n  );\n}\n\nButton.propTypes = {\n  onLoadMore: PropTypes.func.isRequired,\n};\n\nexport default Button;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__3OBlI\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"moviesGallery\":\"MoviesList_moviesGallery__1eucY\",\"moviesGalleryItem\":\"MoviesList_moviesGalleryItem__3H5J9\",\"moviesGalleryItemImage\":\"MoviesList_moviesGalleryItemImage__1rP4N\",\"Title\":\"MoviesList_Title__13Jy6\"};","import arrayWithoutHoles from \"@babel/runtime/helpers/esm/arrayWithoutHoles\";\nimport iterableToArray from \"@babel/runtime/helpers/esm/iterableToArray\";\nimport unsupportedIterableToArray from \"@babel/runtime/helpers/esm/unsupportedIterableToArray\";\nimport nonIterableSpread from \"@babel/runtime/helpers/esm/nonIterableSpread\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","import arrayLikeToArray from \"@babel/runtime/helpers/esm/arrayLikeToArray\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import noPosterAvailable from \"../../images/no-poster-available.jpg\";\nimport s from \"./MoviesList.module.css\";\nimport { Link, useLocation, useHistory } from \"react-router-dom\";\n\nconst MoviesList = ({ movies }) => {\n  const ImageBaseUrl = \"https://image.tmdb.org/t/p/w342\";\n  const moviesListNotEmpty = movies.length !== 0;\n  const location = useLocation();\n  const history = useHistory();\n\n  return (\n    <ul className={s.moviesGallery}>\n      {moviesListNotEmpty &&\n        movies.map((movie) => (\n          <li key={movie.id} className={s.moviesGalleryItem}>\n            <Link\n              to={{\n                pathname: `/movies/${movie.id}`,\n                state: {\n                  from:\n                    `${history.location.pathname}` +\n                    `${history.location.search}`,\n                  label: \"Back to movies\",\n                  search: location.search,\n                },\n              }}\n            >\n              <h2 className={s.Title}>{movie.name || movie.original_title}</h2>\n              <img\n                src={\n                  movie.poster_path\n                    ? `${ImageBaseUrl}${movie.poster_path}`\n                    : noPosterAvailable\n                }\n                alt={movie.title}\n                className={s.moviesGalleryItemImage}\n              />\n            </Link>\n          </li>\n        ))}\n    </ul>\n  );\n};\n\nexport default MoviesList;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"HomePage_header__1I6eo\"};","import { useState, useEffect } from \"react\";\n\nimport fetchMoviesAPI from \"../../services/movies-api\";\nimport Button from \"../../Components/Button/Button\";\nimport MoviesList from \"../../Components/MoviesList/MoviesList\";\nimport s from \"./HomePage.module.css\";\nimport PropTypes from \"prop-types\";\n\nconst HomePage = () => {\n  const [movies, setMovies] = useState([]);\n  const [page, setPage] = useState(1);\n  const [loading, setLoading] = useState(false);\n\n  useEffect(() => {\n    setLoading(true);\n\n    const fetchTrendingMoviesHomePage = async () => {\n      try {\n        const results = await fetchMoviesAPI.fetchTrendingMovies(page);\n        setMovies((movies) => [...movies, ...results]);\n        if (page !== 1) {\n          scrollWindow();\n        }\n      } catch (err) {\n        console.log(err.message);\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchTrendingMoviesHomePage();\n  }, [page]);\n\n  const loadMore = () => {\n    setLoading(!loading);\n    setPage((prev) => prev + 1);\n    setLoading(loading);\n  };\n\n  const scrollWindow = () => {\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: \"smooth\",\n    });\n  };\n\n  const loadMoreMovies = movies.length > 0 && movies.length >= 20;\n  const moviesListNotEmpty = movies.length !== 0;\n\n  return (\n    <>\n      <>\n        <h1 className={s.header}>Trending movies</h1>\n        <>{moviesListNotEmpty && <MoviesList movies={movies} />}</>\n      </>\n      <>{loadMoreMovies && <Button onLoadMore={loadMore} />}</>\n    </>\n  );\n};\n\nHomePage.propTypes = {\n  onLoadMore: PropTypes.func,\n};\n\nexport default HomePage;\n"],"sourceRoot":""}