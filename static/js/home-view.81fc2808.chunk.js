(this["webpackJsonpgoit-react-hw-04-movies"]=this["webpackJsonpgoit-react-hw-04-movies"]||[]).push([[1,7],{34:function(e,t,n){"use strict";var a=n(36),r=n.n(a),c=n(37),o=n(43),s=n.n(o),i="5108029e3911ea6cb16f2c405843061d";s.a.defaults.baseURL="https://api.themoviedb.org";var u=function(){var e=Object(c.a)(r.a.mark((function e(){var t,n,a,c=arguments;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=c.length>0&&void 0!==c[0]?c[0]:1,e.prev=1,e.next=4,s.a.get("/3/trending/all/day?api_key=".concat(i,"&page=").concat(t));case 4:return n=e.sent,a=n.data.results,e.abrupt("return",a);case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0.message);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}(),l=function(){var e=Object(c.a)(r.a.mark((function e(t){var n,a,c,o=arguments;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.length>1&&void 0!==o[1]?o[1]:1,e.prev=1,e.next=4,s.a.get("/3/search/movie?api_key=".concat(i,"&language=en-US&query=").concat(t,"&page=").concat(n,"&include_adult=false"));case 4:return a=e.sent,c=a.data,e.abrupt("return",c.results);case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0.message);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),p=function(){var e=Object(c.a)(r.a.mark((function e(t){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.a.get("/3/movie/".concat(t,"?api_key=").concat(i,"&language=en-US"));case 3:return n=e.sent,e.abrupt("return",n.data);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=Object(c.a)(r.a.mark((function e(t){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.a.get("/3/movie/".concat(t,"/credits?api_key=").concat(i,"&language=en-US"));case 3:return n=e.sent,e.abrupt("return",n.data.cast);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=Object(c.a)(r.a.mark((function e(t){var n,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.a.get("/3/movie/".concat(t,"/reviews?api_key=").concat(i,"&language=en-US"));case 3:return n=e.sent,a=n.data,e.abrupt("return",a.results);case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),m={fetchMovies:l,fetchMovieDetails:p,fetchTrendingMovies:u,fetchMovieCast:v,fetchMovieReview:f};t.a=m},38:function(e,t,n){"use strict";t.a=n.p+"static/media/no-poster-available.7555b152.jpg"},44:function(e,t,n){"use strict";var a=n(45),r=n.n(a),c=n(1);t.a=function(e){var t=e.onLoadMore;return Object(c.jsx)("button",{type:"button",className:r.a.Button,onClick:function(){return t()},children:"Load more"})}},45:function(e,t,n){e.exports={Button:"Button_Button__3OBlI"}},46:function(e,t,n){e.exports={moviesGallery:"MoviesList_moviesGallery__1eucY",moviesGalleryItem:"MoviesList_moviesGalleryItem__3H5J9",moviesGalleryItemImage:"MoviesList_moviesGalleryItemImage__1rP4N",Title:"MoviesList_Title__13Jy6"}},47:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n(41);var r=n(42);function c(e){return function(e){if(Array.isArray(e))return Object(a.a)(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||Object(r.a)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},56:function(e,t,n){"use strict";n.r(t);var a=n(38),r=n(46),c=n.n(r),o=n(2),s=n(9),i=n(1);t.default=function(e){var t=e.movies,n=0!==t.length,r=Object(o.h)(),u=Object(o.g)();return Object(i.jsx)("ul",{className:c.a.moviesGallery,children:n&&t.map((function(e){return Object(i.jsx)("li",{className:c.a.moviesGalleryItem,children:Object(i.jsxs)(s.b,{to:{pathname:"/movies/".concat(e.id),state:{from:"".concat(u.location.pathname)+"".concat(u.location.search),label:"Back to movies",search:r.search}},children:[Object(i.jsx)("h2",{className:c.a.Title,children:e.name||e.original_title}),Object(i.jsx)("img",{src:e.poster_path?"".concat("https://image.tmdb.org/t/p/w342").concat(e.poster_path):a.a,alt:e.title,className:c.a.moviesGalleryItemImage})]})},e.id)}))})}},76:function(e,t,n){e.exports={header:"HomePage_header__1I6eo"}},86:function(e,t,n){"use strict";n.r(t);var a=n(36),r=n.n(a),c=n(47),o=n(37),s=n(35),i=n(0),u=n(34),l=n(44),p=n(56),v=n(76),f=n.n(v),m=n(1);t.default=function(){var e=Object(i.useState)([]),t=Object(s.a)(e,2),n=t[0],a=t[1],v=Object(i.useState)(1),h=Object(s.a)(v,2),b=h[0],d=h[1],g=Object(i.useState)(!1),j=Object(s.a)(g,2),O=j[0],y=j[1];Object(i.useEffect)((function(){y(!0);var e=function(){var e=Object(o.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.a.fetchTrendingMovies(b);case 3:t=e.sent,a((function(e){return[].concat(Object(c.a)(e),Object(c.a)(t))})),1!==b&&x(),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0.message);case 11:return e.prev=11,y(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[0,8,11,14]])})));return function(){return e.apply(this,arguments)}}();e()}),[b]);var x=function(){window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})},_=n.length>0&&n.length>=20,w=0!==n.length;return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("h1",{className:f.a.header,children:"Trending movies"}),Object(m.jsx)(m.Fragment,{children:w&&Object(m.jsx)(p.default,{movies:n})})]}),Object(m.jsx)(m.Fragment,{children:_&&Object(m.jsx)(l.a,{onLoadMore:function(){y(!O),d((function(e){return e+1})),y(O)}})})]})}}}]);
//# sourceMappingURL=home-view.81fc2808.chunk.js.map