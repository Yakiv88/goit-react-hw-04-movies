{"version":3,"sources":["services/movies-api.js","images/no-poster-available.jpg","Components/MovieDetails/MovieDetails.module.css","Components/GoBackButton/GoBackButton.module.css","views/MovieDetailsPage/MovieDetailsPage.module.css","Components/MovieDetails/MovieDetails.js","Components/GoBackButton/GoBackButton.js","views/MovieDetailsPage/MovieDetailsPage.js"],"names":["KEY","axios","defaults","baseURL","fetchTrendingMovies","a","page","get","results","data","console","log","message","fetchMovies","query","fetchMovieDetails","movieId","response","fetchMovieCast","result","cast","fetchMovieReview","fetchMoviesAPI","module","exports","MovieDetails","movie","className","s","wrapper","src","poster_path","noPosterAvailable","alt","title","image","original_title","date","release_date","text","vote_average","subTitle","genres","map","genre","name","join","overview","GoBackButton","handleGoBackButton","button53","type","onClick","Cast","lazy","MovieReviews","MovieDetailsPage","history","useHistory","location","useLocation","useParams","useState","setMovie","useEffect","then","catch","err","header","push","state","from","linkWrapper","to","pathname","label","link","path"],"mappings":"uLAEMA,EAAM,mCAEZC,IAAMC,SAASC,QAAU,6BAEzB,IAAMC,EAAmB,uCAAG,4CAAAC,EAAA,6DAAOC,EAAP,+BAAc,EAAd,kBAIdL,IAAMM,IAAN,sCAAyCP,EAAzC,iBAAqDM,IAJvC,uBAGdE,EAHc,EAGtBC,KAAQD,QAHc,kBAKjBA,GALiB,gCAOxBE,QAAQC,IAAI,KAAIC,SAPQ,yDAAH,qDAWnBC,EAAW,uCAAG,WAAOC,GAAP,+BAAAT,EAAA,6DAAcC,EAAd,+BAAqB,EAArB,kBAEOL,IAAMM,IAAN,kCACMP,EADN,iCACkCc,EADlC,iBACgDR,EADhD,yBAFP,uBAERG,EAFQ,EAERA,KAFQ,kBAMTA,EAAKD,SANI,gCAQhBE,QAAQC,IAAI,KAAMC,SARF,yDAAH,sDAYXG,EAAiB,uCAAG,WAAOC,GAAP,eAAAX,EAAA,+EAECJ,IAAMM,IAAN,mBACTS,EADS,oBACUhB,EADV,oBAFD,cAEhBiB,EAFgB,yBAKfA,EAASR,MALM,gCAOtBC,QAAQC,IAAI,KAAIC,SAPM,yDAAH,sDAWjBM,EAAc,uCAAG,WAAOF,GAAP,eAAAX,EAAA,+EAEEJ,IAAMM,IAAN,mBACPS,EADO,4BACoBhB,EADpB,oBAFF,cAEbmB,EAFa,yBAKZA,EAAOV,KAAKW,MALA,gCAOnBV,QAAQC,IAAI,KAAIC,SAPG,yDAAH,sDAWdS,EAAgB,uCAAG,WAAOL,GAAP,iBAAAX,EAAA,+EAEEJ,IAAMM,IAAN,mBACTS,EADS,4BACkBhB,EADlB,oBAFF,uBAEbS,EAFa,EAEbA,KAFa,kBAKdA,EAAKD,SALS,gCAOrBE,QAAQC,IAAI,KAAMC,SAPG,yDAAH,sDAWhBU,EAAiB,CACrBT,cACAE,oBACAX,sBACAc,iBACAG,oBAGaC,O,gCCtEA,QAA0B,iD,mBCCzCC,EAAOC,QAAU,CAAC,QAAU,8BAA8B,MAAQ,4BAA4B,MAAQ,4BAA4B,SAAW,+BAA+B,KAAO,2BAA2B,KAAO,6B,mBCArND,EAAOC,QAAU,CAAC,SAAW,iC,mBCA7BD,EAAOC,QAAU,CAAC,OAAS,iCAAiC,YAAc,sCAAsC,KAAO,iC,gHCgCxGC,EA9BM,SAAC,GAAe,IAAbC,EAAY,EAAZA,MAGtB,OACE,sBAAKC,UAAWC,IAAEC,QAAlB,UACE,qBACEC,IACEJ,EAAMK,YAAN,UANiB,kCAMjB,OAC0BL,EAAMK,aAC5BC,IAENC,IAAKP,EAAMQ,MACXP,UAAWC,IAAEO,QAGf,gCACE,oBAAIR,UAAWC,IAAEM,MAAjB,SAAyBR,EAAMU,gBAAkBV,EAAMQ,QACvD,uBAAMP,UAAWC,IAAES,KAAnB,cAA2BX,EAAMY,aAAjC,OACA,oBAAGX,UAAWC,IAAEW,KAAhB,yBAAwD,GAArBb,EAAMc,aAAzC,OACA,oBAAIb,UAAWC,IAAEa,SAAjB,oBACA,mBAAGd,UAAWC,IAAEW,KAAhB,SACGb,EAAMgB,OAAOC,KAAI,SAACC,GAAD,OAAWA,EAAMC,QAAMC,KAAK,QAEhD,oBAAInB,UAAWC,IAAEa,SAAjB,sBACA,mBAAGd,UAAWC,IAAEW,KAAhB,SAAuBb,EAAMqB,kB,iBCftBC,EAVM,SAAC,GAA4B,IAA1BC,EAAyB,EAAzBA,mBACtB,OACE,mCACE,wBAAQtB,UAAWC,IAAEsB,SAAUC,KAAK,SAASC,QAASH,EAAtD,qB,iBCGAI,EAAOC,gBAAK,kBAAM,gCAClBC,EAAeD,gBAAK,kBACxB,gCA8EaE,UA3EU,WACvB,IAAMC,EAAUC,cACVC,EAAWC,cACT5C,EAAY6C,cAAZ7C,QACR,EAA0B8C,mBAAS,MAAnC,mBAAOpC,EAAP,KAAcqC,EAAd,KACArD,QAAQC,IAAIgD,GACZK,qBAAU,WACR1C,IACGP,kBAAkBC,GAClBiD,KAAKF,GACLG,OAAM,SAACC,GAAD,OAASzD,QAAQC,IAAIwD,EAAIvD,cACjC,CAACI,IAOJ,OACE,qCACE,qCACE,oBAAIW,UAAWC,IAAEwC,OAAjB,2BACA,cAAC,EAAD,CAAcnB,mBATO,WAAO,IAAD,IAC/BQ,EAAQY,KAAR,iBAAaV,QAAb,IAAaA,GAAb,UAAaA,EAAUW,aAAvB,aAAa,EAAiBC,YAA9B,QAAsC,KACtC7D,QAAQC,IAAIgD,SASTjC,GAAS,cAAC,EAAD,CAAcA,MAAOA,IAC/B,qCACE,oBAAIC,UAAWC,IAAEwC,OAAjB,oCACA,qBAAKzC,UAAWC,IAAE4C,YAAlB,SACE,+BACE,6BACE,cAAC,IAAD,CACEC,GAAI,CACFC,SAAS,WAAD,OAAa1D,EAAb,SACRsD,MAAO,CACLC,KAAMd,EAAQE,SAASW,MAAMC,KAC7BI,MAAO,6BAGXhD,UAAWC,IAAEgD,KARf,oBAaF,6BACE,cAAC,IAAD,CACEH,GAAI,CACFC,SAAS,WAAD,OAAa1D,EAAb,YACRsD,MAAO,CACLC,KAAMd,EAAQE,SAASW,MAAMC,KAC7BI,MAAO,6BAGXhD,UAAWC,IAAEgD,KARf,4BAeN,uBACA,cAAC,WAAD,UACE,eAAC,IAAD,WACE,cAAC,IAAD,CAAOC,KAAK,wBAAZ,SACE,cAACxB,EAAD,MAEF,cAAC,IAAD,CAAOwB,KAAK,2BAAZ,SACE,cAACtB,EAAD","file":"static/js/6.448d7d79.chunk.js","sourcesContent":["import axios from 'axios'\n\nconst KEY = '5108029e3911ea6cb16f2c405843061d'\n\naxios.defaults.baseURL = 'https://api.themoviedb.org'\n\nconst fetchTrendingMovies = async (page = 1) => {\n  try {\n    const {\n      data: { results },\n    } = await axios.get(`/3/trending/all/day?api_key=${KEY}&page=${page}`)\n    return results\n  } catch (err) {\n    console.log(err.message)\n  }\n}\n\nconst fetchMovies = async (query, page = 1) => {\n  try {\n    const { data } = await axios.get(\n      `/3/search/movie?api_key=${KEY}&language=en-US&query=${query}&page=${page}&include_adult=false`,\n    )\n\n    return data.results\n  } catch (error) {\n    console.log(error.message)\n  }\n}\n\nconst fetchMovieDetails = async (movieId) => {\n  try {\n    const response = await axios.get(\n      `/3/movie/${movieId}?api_key=${KEY}&language=en-US`,\n    )\n    return response.data\n  } catch (err) {\n    console.log(err.message)\n  }\n}\n\nconst fetchMovieCast = async (movieId) => {\n  try {\n    const result = await axios.get(\n      `/3/movie/${movieId}/credits?api_key=${KEY}&language=en-US`,\n    )\n    return result.data.cast\n  } catch (err) {\n    console.log(err.message)\n  }\n}\n\nconst fetchMovieReview = async (movieId) => {\n  try {\n    const { data } = await axios.get(\n      `/3/movie/${movieId}/reviews?api_key=${KEY}&language=en-US`,\n    )\n    return data.results\n  } catch (error) {\n    console.log(error.message)\n  }\n}\n\nconst fetchMoviesAPI = {\n  fetchMovies,\n  fetchMovieDetails,\n  fetchTrendingMovies,\n  fetchMovieCast,\n  fetchMovieReview,\n}\n\nexport default fetchMoviesAPI\n","export default __webpack_public_path__ + \"static/media/no-poster-available.7555b152.jpg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"MovieDetails_wrapper__2Yz6f\",\"image\":\"MovieDetails_image__3SHud\",\"title\":\"MovieDetails_title__2JED8\",\"subTitle\":\"MovieDetails_subTitle__2SxtY\",\"text\":\"MovieDetails_text__1mrpp\",\"date\":\"MovieDetails_date__2k08n\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button53\":\"GoBackButton_button53__1ZK2y\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"MovieDetailsPage_header__1XKSY\",\"linkWrapper\":\"MovieDetailsPage_linkWrapper__27Ezc\",\"link\":\"MovieDetailsPage_link__2c_HI\"};","import s from \"./MovieDetails.module.css\";\nimport noPosterAvailable from \"../../images/no-poster-available.jpg\";\n\nconst MovieDetails = ({ movie }) => {\n  const movieCardBaseUrl = \"http://image.tmdb.org/t/p/w154\";\n\n  return (\n    <div className={s.wrapper}>\n      <img\n        src={\n          movie.poster_path\n            ? `${movieCardBaseUrl}${movie.poster_path}`\n            : noPosterAvailable\n        }\n        alt={movie.title}\n        className={s.image}\n      />\n\n      <div>\n        <h2 className={s.title}>{movie.original_title || movie.title}</h2>\n        <span className={s.date}>({movie.release_date})</span>\n        <p className={s.text}>User score: {movie.vote_average * 10}%</p>\n        <h3 className={s.subTitle}>Genres</h3>\n        <p className={s.text}>\n          {movie.genres.map((genre) => genre.name).join(\", \")}\n        </p>\n        <h3 className={s.subTitle}>Overview</h3>\n        <p className={s.text}>{movie.overview}</p>\n      </div>\n    </div>\n  );\n};\n\nexport default MovieDetails;\n","import s from \"./GoBackButton.module.css\";\n\nconst GoBackButton = ({ handleGoBackButton }) => {\n  return (\n    <>\n      <button className={s.button53} type=\"button\" onClick={handleGoBackButton}>\n        BACK\n      </button>\n    </>\n  );\n};\n\nexport default GoBackButton;\n","import { useState, useEffect, lazy, Suspense } from 'react'\nimport { useParams, useHistory, useLocation } from 'react-router'\nimport fetchMoviesAPI from '../../services/movies-api'\nimport { NavLink, Route, Switch } from 'react-router-dom'\nimport MovieDetails from '../../Components/MovieDetails/MovieDetails'\nimport GoBackButton from '../../Components/GoBackButton/GoBackButton'\nimport s from './MovieDetailsPage.module.css'\n\nconst Cast = lazy(() => import('../../Components/Cast/Cast'))\nconst MovieReviews = lazy(() =>\n  import('../../Components/MovieReviews/MovieReviews'),\n)\n\nconst MovieDetailsPage = () => {\n  const history = useHistory()\n  const location = useLocation()\n  const { movieId } = useParams()\n  const [movie, setMovie] = useState(null)\n  console.log(location)\n  useEffect(() => {\n    fetchMoviesAPI\n      .fetchMovieDetails(movieId)\n      .then(setMovie)\n      .catch((err) => console.log(err.message))\n  }, [movieId])\n\n  const handleGoBackButton = () => {\n    history.push(location?.state?.from ?? '/')\n    console.log(location)\n  }\n\n  return (\n    <>\n      <>\n        <h1 className={s.header}>Movie details</h1>\n        <GoBackButton handleGoBackButton={handleGoBackButton} />\n      </>\n      {movie && <MovieDetails movie={movie} />}\n      <>\n        <h2 className={s.header}>Additional information</h2>\n        <div className={s.linkWrapper}>\n          <ul>\n            <li>\n              <NavLink\n                to={{\n                  pathname: `/movies/${movieId}/cast`,\n                  state: {\n                    from: history.location.state.from,\n                    label: 'back to movies from cast',\n                  },\n                }}\n                className={s.link}\n              >\n                Cast\n              </NavLink>\n            </li>\n            <li>\n              <NavLink\n                to={{\n                  pathname: `/movies/${movieId}/reviews`,\n                  state: {\n                    from: history.location.state.from,\n                    label: 'back to movies from cast',\n                  },\n                }}\n                className={s.link}\n              >\n                Reviews\n              </NavLink>\n            </li>\n          </ul>\n        </div>\n        <hr />\n        <Suspense>\n          <Switch>\n            <Route path=\"/movies/:movieId/cast\">\n              <Cast />\n            </Route>\n            <Route path=\"/movies/:movieId/reviews\">\n              <MovieReviews />\n            </Route>\n          </Switch>\n        </Suspense>\n      </>\n    </>\n  )\n}\n\nexport default MovieDetailsPage\n"],"sourceRoot":""}